<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link href="css/basic.css" type="text/css" rel="stylesheet">
   <link href="css/menu.css" type="text/css" rel="stylesheet">
<title>Component Search</title>

<script src="script/jquery-3.1.1.min.js"></script>

<script>

  function searchSites(form) {  
         $("p.result").html("Search Running...");
<!-- https://stcedin.github.io/bikesearch.html -->
         var item = form.item.value;
         item = item.replace(' ', '+');
         var typeSelected = document.querySelector('input[name = "select"]:checked').value;
         
 		 var bikeSites = ["http://www.chainreactioncycles.com/s?q=" + item, 
 						"http://www.wiggle.co.uk/" + item,
						"http://www.chainreactioncycles.com/s?q=" + item,
						"http://bikes.merlincycles.com/search#?w=" + item,
						"http://www.allterraincycles.co.uk/Search?q=" + item,
						"http://www.ebay.co.uk/sch/i.html?LH_ItemCondition=3&_nkw=" + item
 		 ]
 		 var compSites = [
 			"http://www.screwfix.com/search.do?fh_search=" + item,
 			"http://www.toolstation.com/search?searchstr=" +  item,
 			"http://www.ebay.co.uk/sch/i.html?LH_ItemCondition=3&_nkw=" + item
 	     ]

 		var sites = compSites;
  		if (typeSelected == "bike") {
  			sites = bikeSites;
  		}

 		for (var i=0; i < sites.length; i++) {
 	 		var url=sites[i];
 			var win = window.open(url, '_blank');
 			win.focus();
 		}
 		$("p.result").html("Searching complete");
  }

    $(document).ready(function() {
        $("#searchButton").click(function() {
            alert("searching");
              searchCR(item);
        });
    });

  </script>


</head>
<body class="component">

	<!-- Menu Options -->
	<!-- Remember to include the menu.css -->
	<script src="script/menu.js"></script>

	<h1>Component Search</h1>
	<p>Select the category of component to search, and it will load the results from popular web sites.</p>
	<form name="search">
	<fieldset>	
	<div class="formlayout">
	  <input class="radio-input" type="radio" name="select" value="bike" id="bike" checked>
	  <label class="radio-label">Bike</label>
	  <input class="radio-input" type="radio" name="select" value="hardware" id="hardware">
	  <label class="radio-label">Hardware</label>
	  <label for="item">Search Item:</label>
	  <input type="text" name="item" id="item">
	  <input class="compbutton" type="button" value="Search" onClick="searchSites(this.form)">
	</div>  
	</fieldset>  
	</form>
	
	<p class="result"></p>
</body>
</html>